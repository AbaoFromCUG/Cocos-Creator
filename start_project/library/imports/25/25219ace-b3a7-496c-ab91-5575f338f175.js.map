{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [
    "cc",
    "Class",
    "extends",
    "Component",
    "properties",
    "jumpHight",
    "jumpDuration",
    "maxMovespeed",
    "accel",
    "jumpAudio",
    "default",
    "url",
    "AudioClip",
    "parseAction",
    "isParse",
    "oldLeft",
    "accLeft",
    "oldRight",
    "accRight",
    "actionManager",
    "director",
    "getActionManager",
    "pauseTarget",
    "node",
    "continueAvtion",
    "resumeTarget",
    "log",
    "Global",
    "userMusic",
    "onLoad",
    "jumpAction",
    "setJumpAction",
    "runAction",
    "xSpeed",
    "setInputControl",
    "inputManager",
    "setAccelerometerEnabled",
    "systemEvent",
    "on",
    "SystemEvent",
    "EventType",
    "DEVICEMOTION",
    "onDeviceMotionEvent",
    "playJumpSound",
    "audioEngine",
    "playEffect",
    "jumpUp",
    "moveBy",
    "p",
    "easing",
    "easeCubicActionOut",
    "jumpDown",
    "easeCubicActionIn",
    "callback",
    "callFunc",
    "repeatForever",
    "sequence",
    "event",
    "userPlayFun",
    "self",
    "z",
    "Math",
    "sqrt",
    "acc",
    "x",
    "y",
    "abs",
    "eventManager",
    "addListener",
    "EventListener",
    "KEYBOARD",
    "onKeyPressed",
    "keyCode",
    "KEY",
    "a",
    "left",
    "d",
    "right",
    "onKeyReleased",
    "update",
    "dt",
    "getVisibleSize",
    "width",
    "onDestroy",
    "off"
  ],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "cc.Class({\r\n    extends: cc.Component,\r\n    //相当于这个类的属性\r\n    properties: {\r\n        jumpHight:0,  //跳跃高度\r\n        jumpDuration:0, //跳跃时间长度\r\n        maxMovespeed:0, //最大移动速度\r\n        accel:0,        //加速度\r\n\r\n        jumpAudio: {\r\n            default: null,\r\n            url: cc.AudioClip\r\n        },\r\n    },\r\n    parseAction:function(){\r\n        //this.node.stopAllActions();\r\n        this.isParse=true;\r\n        this.oldLeft=this.accLeft;\r\n        this.oldRight=this.accRight;\r\n        this.actionManager = cc.director.getActionManager();\r\n        this.actionManager.pauseTarget ( this.node );\r\n        \r\n         \r\n    },\r\n    continueAvtion:function(){\r\n        \r\n        this.actionManager.resumeTarget(this.node);\r\n\r\n        this.accLeft=this.oldLeft;\r\n        this.accRight=this.accRight;\r\n        this.isParse=false;\r\n        cc.log(Global.userMusic);\r\n        \r\n        \r\n        \r\n\r\n    },\r\n    // use this for initialization\r\n    //加载完资源后执行\r\n    onLoad: function () {\r\n        this.jumpAction=this.setJumpAction();\r\n        this.node.runAction(this.jumpAction);\r\n        this.accLeft=false;\r\n        this.accRight=false;\r\n        this.xSpeed=0.0;\r\n        this.setInputControl();\r\n        //注册重力感应监听事件\r\n        cc.inputManager.setAccelerometerEnabled(true);\r\n        cc.systemEvent.on(cc.SystemEvent.EventType.DEVICEMOTION, this.onDeviceMotionEvent, this);\r\n        \r\n\r\n        \r\n    },\r\n     playJumpSound: function () {\r\n        // 调用声音引擎播放声音\r\n        \r\n        if(Global.userMusic){\r\n            cc.audioEngine.playEffect(this.jumpAudio, false);\r\n        }else{\r\n            return;\r\n        }\r\n    },\r\n    setJumpAction:function(){\r\n        //参数解释，第一个是时间，表示该动作所需要的时间，\r\n        //easing是执行加减速（放缓）的操作，out，渐渐放缓，in则相反\r\n        var jumpUp=cc.moveBy(this.jumpDuration, cc.p(0, this.jumpHight)).easing(cc.easeCubicActionOut());\r\n        var jumpDown=cc.moveBy(this.jumpDuration,cc.p(0,-this.jumpHight)).easing(cc.easeCubicActionIn());\r\n        var callback = cc.callFunc(this.playJumpSound, this);\r\n        //sequence将两个动作连接，组装成新的动作，repeatForever把动作不停的重复，也是把一个动作包装成新的动作\r\n        return cc.repeatForever(cc.sequence(jumpUp,jumpDown,callback));\r\n    },\r\n    onDeviceMotionEvent: function (event) {    \r\n        if(!Global.userPlayFun){\r\n            self=this;\r\n            var z=Math.sqrt(1-event.acc.x*event.acc.x-event.acc.y*event.acc.y);\r\n            if(Math.abs(event.acc.x)<Math.abs(event.acc.y)){\r\n                self.accLeft=true;\r\n                self.accRight=false;\r\n            }else if(Math.abs(event.acc.x)>Math.abs(event.acc.y)){\r\n                self.accLeft=false;\r\n                self.accRight=true;\r\n            }\r\n        }\r\n        \r\n        \r\n    },\r\n\r\n    setInputControl: function(){\r\n        var self=this;\r\n        cc.eventManager.addListener({\r\n            event:cc.EventListener.KEYBOARD,\r\n            onKeyPressed:function(keyCode,event){\r\n                switch(keyCode){\r\n                    case cc.KEY.a:\r\n                        self.accLeft=true;\r\n                        self.accRight=false;\r\n                        break;\r\n                    case cc.KEY.left:\r\n                        self.accLeft=true;\r\n                        self.accRight=false;\r\n                        break;\r\n                    case cc.KEY.d:\r\n                        self.accRight=true;\r\n                        self.accLeft=false;\r\n                        break;\r\n                    case cc.KEY.right:\r\n                        self.accRight=true;\r\n                        self.accLeft=false;\r\n                        break;\r\n                    \r\n                }\r\n            },\r\n            onKeyReleased: function(keyCode,event){\r\n                switch(keyCode){\r\n                    case cc.KEY.a:\r\n                        self.accLeft=false;\r\n                        break;\r\n                    case cc.KEY.d:\r\n                        self.accRight=false;\r\n                        break;\r\n                }\r\n            }\r\n        }, self.node);\r\n    },\r\n\r\n\r\n    // called every frame, uncomment this function to activate update callback\r\n    update: function (dt) {\r\n       \r\n        if(this.isParse){\r\n            \r\n            return;\r\n        }\r\n        \r\n\r\n\r\n\r\n        if (this.accLeft) {\r\n            this.xSpeed -= this.accel * dt;\r\n        } else if (this.accRight) {\r\n            this.xSpeed += this.accel * dt;\r\n        }\r\n        //Math.abs()求绝对值函数\r\n        if(Math.abs(this.xSpeed)>this.maxMovespeed){\r\n            this.xSpeed=this.maxMovespeed*this.xSpeed/Math.abs(this.xSpeed);\r\n        }\r\n        \r\n        if(this.node.x<(50-cc.director.getVisibleSize ( ).width/2)){\r\n            this.node.x=50-cc.director.getVisibleSize ( ).width/2;\r\n        }else if(this.node.x>(cc.director.getVisibleSize ( ).width/2-50)){\r\n            this.node.x=cc.director.getVisibleSize ( ).width/2-50;\r\n        }\r\n        \r\n        \r\n        this.node.x+=this.xSpeed*dt;\r\n\r\n\r\n    },\r\n\r\n    onDestroy:function(){\r\n        cc.systemEvent.off(cc.SystemEvent.EventType.DEVICEMOTION, this.onDeviceMotionEvent, this);\r\n    },\r\n    \r\n});\r\n"
  ]
}