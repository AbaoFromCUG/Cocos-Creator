{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [
    "cc",
    "Class",
    "extends",
    "Component",
    "properties",
    "starPrefab",
    "default",
    "type",
    "Prefab",
    "settingPerfab",
    "ground",
    "Node",
    "parseButton",
    "Button",
    "player",
    "scoreDisplay",
    "Label",
    "scoreAudio",
    "url",
    "AudioClip",
    "leftLayout",
    "rightLayout",
    "maxStarDuration",
    "minStarDuration",
    "onLoad",
    "timer",
    "starDuration",
    "groundY",
    "y",
    "height",
    "spawnNewStar",
    "score",
    "getComponent",
    "node",
    "game",
    "isParse",
    "parse",
    "getComponentInChildren",
    "string",
    "continueAvtion",
    "setView",
    "destroy",
    "parseAction",
    "instantiate",
    "addChild",
    "setPosition",
    "newStar",
    "getNewStarPosition",
    "random0To1",
    "randx",
    "randy",
    "jumpHight",
    "width",
    "randomMinus1To1",
    "p",
    "gainscore",
    "toString",
    "Global",
    "userMusic",
    "audioEngine",
    "playEffect",
    "update",
    "dt",
    "director",
    "loadScene",
    "userScore"
  ],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // foo: {\r\n        //    default: null,      // The default value will be used only when the component attaching\r\n        //                           to a node for the first time\r\n        //    url: cc.Texture2D,  // optional, default is typeof default\r\n        //    serializable: true, // optional, default is true\r\n        //    visible: true,      // optional, default is true\r\n        //    displayName: 'Foo', // optional\r\n        //    readonly: false,    // optional, default is false\r\n        // },\r\n        // ...\r\n        starPrefab:{\r\n            default:null,\r\n            type:cc.Prefab\r\n        },\r\n        settingPerfab:{\r\n            type:cc.Prefab,\r\n            default:null,\r\n        },\r\n        ground:{\r\n            default:null,\r\n            type:cc.Node\r\n        },\r\n        parseButton:{\r\n            default:null,\r\n            type:cc.Button,\r\n        },\r\n        player:{\r\n            default:null,\r\n            type:cc.Node\r\n        },\r\n        scoreDisplay:{\r\n            default: null,\r\n            type:cc.Label\r\n        },\r\n        scoreAudio: {\r\n            default: null,\r\n            url: cc.AudioClip\r\n        },\r\n        leftLayout:{\r\n            type:cc.Node,\r\n            default:null,\r\n        },\r\n        rightLayout:{\r\n            type:cc.Node,\r\n            default:null,\r\n        },\r\n        maxStarDuration:0,\r\n        minStarDuration:0,\r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function () {\r\n\r\n\r\n         // 初始化计时器\r\n        this.timer = 0;\r\n        this.starDuration = 0;\r\n\r\n\r\n        this.groundY=this.ground.y+this.ground.height/2;\r\n        this.spawnNewStar();\r\n        this.score=0;\r\n       /*******************************/\r\n       this.leftLayout.player = this.player.getComponent('player');\r\n       this.rightLayout.player = this.player.getComponent('player');\r\n       this.parseButton.node.game=this;\r\n       /*******************************/\r\n       this.isParse=false;\r\n    },\r\n    \r\n    parse:function(){\r\n        if(this.isParse){\r\n            this.parseButton.getComponentInChildren(cc.Label).string=\"暂停\";\r\n             this.player.getComponent('player').continueAvtion();\r\n             this.isParse=false;\r\n             this.setView.destroy();\r\n            return;\r\n        }else{\r\n            this.player.getComponent('player').parseAction();\r\n            this.isParse=true;\r\n\r\n            \r\n            this.setView=cc.instantiate(this.settingPerfab);\r\n           \r\n            this.node.addChild(this.setView);\r\n            this.setView.setPosition(0,-80);\r\n            this.parseButton.getComponentInChildren(cc.Label).string=\"继续\";\r\n        }\r\n        \r\n    },\r\n    spawnNewStar: function(){\r\n        var newStar=cc.instantiate(this.starPrefab);\r\n        \r\n        this.node.addChild(newStar);\r\n        newStar.setPosition(this.getNewStarPosition());\r\n        newStar.getComponent('star').game = this;\r\n\r\n\r\n        //当生成一个新的星星，则重新开始计时\r\n        this.starDuration=this.minStarDuration + cc.random0To1() * (this.maxStarDuration - this.minStarDuration);\r\n        this.timer=0;\r\n    },\r\n    getNewStarPosition: function(){\r\n       \r\n\r\n        var randx=0;\r\n        var randy=this.groundY + cc.random0To1()*(this.player.getComponent('player').jumpHight+100) ;\r\n        //检查cc.random0To1()生成的是否是0到1的随机数\r\n        //console.log(cc.random0To1(),randx);\r\n        randx=this.node.width/2*cc.randomMinus1To1();\r\n        return cc.p(randx, randy);\r\n    },\r\n\r\n    gainscore: function(){\r\n        this.score+=1;\r\n        this.scoreDisplay.string=\"Score\"+this.score.toString();\r\n        if(Global.userMusic){\r\n            cc.audioEngine.playEffect(this.scoreAudio, false);\r\n        }else{\r\n            return;\r\n        }\r\n         \r\n    },\r\n\r\n    \r\n    \r\n // called every frame, uncomment this function to activate update callback\r\n     update: function (dt) {\r\n         if(this.isParse){\r\n             return;\r\n         }\r\n         //console.log(this.timer,this.starDuration);\r\n         if(this.timer>this.starDuration){\r\n             \r\n             cc.director.loadScene(\"gameover\");\r\n             Global.userScore=this.score;\r\n         }\r\n         this.timer+=dt;\r\n    },\r\n});\r\n"
  ]
}